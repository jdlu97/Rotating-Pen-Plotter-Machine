<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Term Project: Glass Pen Plotter: Term Project: Glass Pen Plotter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Term Project: Glass Pen Plotter
   </div>
   <div id="projectbrief">Documentation for the Mechatronics Term Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Term Project: Glass Pen Plotter </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This is an overview of the software and hardware design for the term project of the Mechatronics course at Cal Poly.</p>
<h1><a class="anchor" id="software"></a>
Software Design</h1>
<p >Our automatic pin-glass pen drawer device will have two motors and a solenoid facilitating the motion of the pen/marker needed to draw a picture on the surface of the pint glass. This will be captured in the form of five tasks. There will be two motor controller tasks for each of the two motors. Each of these tasks received the position of the motor from their respective encoders. Each encoder will have an associated task.</p>
<p >One of the controller tasks will communicate with a "solenoid" task that controls the extension/contraction motion of the solenoid.</p>
<p >In addition, a user task will be implemented to initiate the program and send image data in the form of coordinates to the controller task. As expected from this, the image to be drawed is first pre-processed to get actual numerical information. This data will be saved in an array and sent to the controller task in x-y pairs.</p>
<p >The task diagram for the overall project is shown below. It is worth noting that while "x" is used to represent one of the axis, it can also be thought of as a "theta" axis, due to the rotating base creating the motion.</p>
<p > <style> div.image img[src = "term_proj_task_diagram.png"]{width:700px}
                </style>
    </p>
<div class="image">
<img src="term_proj_task_diagram.png" alt=""/>
<div class="caption">
Term Project Task Diagram</div></div>
<h2><a class="anchor" id="sec_fsm"></a>
State-Transition Diagram</h2>
<h3><a class="anchor" id="sec_usr"></a>
User Task</h3>
<p >The user task is responsible for starting the program. The task sends pre-processed image data in the form of coordinates to the motor controller task for appropriate closed-loop control action to accomplish the goal of the project.</p>
<p > <style> div.image img[src = "user_task_fsm.png"]{width:500px}
                </style>
    </p>
<div class="image">
<img src="user_task_fsm.png" alt=""/>
<div class="caption">
User Task State-Transition Diagram</div></div>
<h3><a class="anchor" id="sec_enc"></a>
Encoder Task</h3>
<p >The encoder task is responsible for getting the encoder readings to be sent to the controller task. The encoder reading is the angular position of the motor. The will be two objects representing each encoders.</p>
<p > <style> div.image img[src = "encoder_fsm.png"]{width:500px}
                </style>
    </p>
<div class="image">
<img src="encoder_fsm.png" alt=""/>
<div class="caption">
Encoder State-Transition Diagram</div></div>
<h3><a class="anchor" id="sec_mot_ctrl"></a>
Motor-Controller Task</h3>
<p >The motor controller task is responsible for setting the duty cycle needed for the motor to get to the appropriate position on the surface of the pint glass. The will be two objects representing each motors. One of the controllers will be responsible for sharing data with the solenoid task so that motion of the pen/marker is accomplished.</p>
<p > <style> div.image img[src = "motor_controller_fsm.png"]{width:500px}
                </style>
    </p>
<div class="image">
<img src="motor_controller_fsm.png" alt=""/>
<div class="caption">
Motor-Controller State-Transition Diagram</div></div>
<h3><a class="anchor" id="sec_sol"></a>
Solenoid Task</h3>
<p >The solenoid task is responsible for actuating the extension/contraction motion of the solenoid.</p>
<p > <style> div.image img[src = "solenoid_fsm.png"]{width:500px}
                </style>
    </p>
<div class="image">
<img src="solenoid_fsm.png" alt=""/>
<div class="caption">
Solenoid State-Transition Diagram</div></div>
<h1><a class="anchor" id="hardware"></a>
Hardware Design</h1>
<p >The basic hardware setup of our automatic pint-glass pen drawer has a rotating base that is made from a pottery turntable. This will have a 28-tooth, 5-in pitch diameter (approximately) gear attached on top and meshed with a gear of similar properties. The meshing gear is rotated by one of the motors. This motor is attached to a 3D-printed support base that holds the entire y-axis assembly.</p>
<p >Structurally, the y-axis is comprised of the mentioned 3D-printed support base and a support structure made out of wood and mounted atop of the 3D-printed based. The wooden support has lead screw which is attached to the second motor. The lead screw has a 3D-printed support that holds the marker and the solenoid that actuates the in/out motion of the marker. The marker (labeled as pen in the drawing) is held perpendicular to the lead screw. The y-axis support base will likely include a feature that allows us to manually set the angle of the y-axis with respect to a vertical reference axis.</p>
<p >Finally, the pint glass on which we will draw the picture will be held in place by glue or some other similar method.</p>
<p >A visual representation of the physical setup is shown below.</p>
<p > <style> div.image img[src = "assembly.png"]{width:800px}
                </style>
    </p>
<div class="image">
<img src="assembly.png" alt=""/>
<div class="caption">
CAD model of the project</div></div>
 </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
